---
import { getCollection } from "astro:content";
import { changeLanguage } from "i18next";
import SpeakersOverview from "../../components/SpeakersOverview.astro";
import { type Speaker } from "../../data/speakers-data";
import Layout from "../../layouts/Layout.astro";

changeLanguage("en");

export async function getStaticPaths() {
    const speakers = await getCollection("speakers");
    return speakers.map((speaker) => {
        return {
            params: { name: speaker.slug },
            props: { speaker },
        };
    });
}
type Props = {
    speaker: Speaker;
};
const { speaker } = Astro.props;
const { name } = Astro.params;
if (!name) {
    throw new Response("Not found", { status: 404 });
}
---

<Layout title={"Devfest Pescara 2023 - " + speaker.name}>
  <SpeakersOverview speakerId={name} />
</Layout>
